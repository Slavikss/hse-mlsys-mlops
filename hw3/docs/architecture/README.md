# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–≠—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Å–∏—Å—Ç–µ–º—ã –¥–µ—Ç–µ–∫—Ü–∏–∏ —Ñ—Ä–æ–¥–∞, —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ **C4 (Context, Containers, Components, Code)**.

## –°–æ–¥–µ—Ä–∂–∏–º–æ–µ

### –î–∏–∞–≥—Ä–∞–º–º—ã

#### 1. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ (C4 Level 1)

![Context Diagram](context-diagram.svg)

**–û–ø–∏—Å–∞–Ω–∏–µ**:
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ –µ–¥–∏–Ω–æ–µ —Ü–µ–ª–æ–µ
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∞–∫—Ç–æ—Ä–∞–º–∏ –∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- –û—Å–Ω–æ–≤–Ω—ã–µ –∞–∫—Ç–æ—Ä—ã: –ê–Ω–∞–ª–∏—Ç–∏–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, Data Scientist
- –í–Ω–µ—à–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã: –ü–ª–∞—Ç—ë–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –°–∏—Å—Ç–µ–º–∞ –æ–ø–æ–≤–µ—â–µ–Ω–∏–π

**–§–∞–π–ª—ã**: [PlantUML –∏—Å—Ç–æ—á–Ω–∏–∫](context-diagram.puml) | [SVG](context-diagram.svg)

---

#### 2. –î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (C4 Level 3)

![Component Diagram](component-diagram.svg)

**–û–ø–∏—Å–∞–Ω–∏–µ**:
- –î–µ—Ç–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º—ã
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã: Transaction Producer, Fraud Scoring Service, Score Writer, Web UI
- –î–µ—Ç–∞–ª–∏–∑–∏—Ä—É–µ—Ç Fraud Scoring Service —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
  - **Kafka Consumer** ‚Äî —á—Ç–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
  - **Feature Preprocessor** ‚Äî –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ –∏ feature engineering
  - **ML Inference Engine** ‚Äî –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ CatBoost –º–æ–¥–µ–ª–∏
  - **Score Publisher** ‚Äî –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

**–§–∞–π–ª—ã**: [PlantUML –∏—Å—Ç–æ—á–Ω–∏–∫](component-diagram.puml) | [SVG](component-diagram.svg)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[architecture.md](architecture.md)** ‚Äî –ü–æ—è—Å–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–ø–∏—Å–∫–∞
  - –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã
  - –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö
  - –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
  - Roadmap

## üîß –ö–∞–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–∏–∞–≥—Ä–∞–º–º—ã

### –û–Ω–ª–∞–π–Ω

–§–∞–π–ª—ã `.puml` –º–æ–∂–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ–Ω–ª–∞–π–Ω —Å –ø–æ–º–æ—â—å—é PlantUML Server:

1. **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞**:
   - –û—Ç–∫—Ä–æ–π—Ç–µ [PlantUML Server](http://www.plantuml.com/plantuml/uml/)
   - –í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `context-diagram.puml`
   - –ù–∞–∂–º–∏—Ç–µ "Submit"

2. **–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**:
   - –û—Ç–∫—Ä–æ–π—Ç–µ [PlantUML Server](http://www.plantuml.com/plantuml/uml/)
   - –í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `component-diagram.puml`
   - –ù–∞–∂–º–∏—Ç–µ "Submit"

### –õ–æ–∫–∞–ª—å–Ω–æ

#### –í–∞—Ä–∏–∞–Ω—Ç 1: PlantUML CLI

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PlantUML (macOS)
brew install plantuml

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PNG/SVG
plantuml context-diagram.puml
plantuml component-diagram.puml

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤ SVG —Ñ–æ—Ä–º–∞—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è GitHub)
plantuml -tsvg context-diagram.puml
plantuml -tsvg component-diagram.puml
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: Docker

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PNG
docker run --rm -v $(pwd):/data plantuml/plantuml context-diagram.puml
docker run --rm -v $(pwd):/data plantuml/plantuml component-diagram.puml

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SVG
docker run --rm -v $(pwd):/data plantuml/plantuml -tsvg context-diagram.puml
docker run --rm -v $(pwd):/data plantuml/plantuml -tsvg component-diagram.puml
```

#### –í–∞—Ä–∏–∞–Ω—Ç 3: VS Code Extension

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ [PlantUML](https://marketplace.visualstudio.com/items?itemName=jebbs.plantuml) –¥–ª—è VS Code:
- –û—Ç–∫—Ä–æ–π—Ç–µ `.puml` —Ñ–∞–π–ª
- –ù–∞–∂–º–∏—Ç–µ `Alt+D` –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ (Level 1)

–°–∏—Å—Ç–µ–º–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏ —Ñ—Ä–æ–¥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ—Ç–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –ø—Ä–∏–º–µ–Ω—è—è ML-–º–æ–¥–µ–ª—å –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞. 

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**:
- –ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: 1000+ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π/—Å–µ–∫
- –õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: < 100ms
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å: 99.9%

### –î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (Level 3)

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 6 –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

1. **Apache Kafka** ‚Äî message broker (—Ç–æ–ø–∏–∫–∏: `transactions`, `scores`)
2. **Transaction Producer** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏–∑ CSV
3. **Fraud Scoring Service** ‚Äî ML-–∏–Ω—Ñ–µ—Ä–µ–Ω—Å (4 –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞)
4. **Score Writer** ‚Äî –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –≤ PostgreSQL
5. **PostgreSQL** ‚Äî —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
6. **Streamlit Dashboard** ‚Äî –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

**–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö**:
```
CSV ‚Üí Producer ‚Üí Kafka (transactions) 
‚Üí Fraud Scorer (Consumer ‚Üí Preprocessor ‚Üí ML Model ‚Üí Publisher) 
‚Üí Kafka (scores) ‚Üí Writer ‚Üí PostgreSQL 
‚Üí Dashboard ‚Üí –ê–Ω–∞–ª–∏—Ç–∏–∫
```
